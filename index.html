<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>TEST ONGLET â€” debug</title>
<style>
  body{font-family:system-ui,Roboto,Arial,sans-serif;padding:24px;background:#f6f7fb}
  .debug{position:fixed;bottom:12px;left:12px;right:12px;padding:10px;border-radius:8px;background:#111;color:#fff;font-size:12px;line-height:1.4}
  .tabs{display:flex;gap:8px;margin-bottom:16px}
  .tab{padding:10px 14px;border-radius:10px;border:none;background:#e5e7eb;cursor:pointer}
  .tab.active{background:#4f46e5;color:#fff}
  .tab-content{display:none;padding:16px;border:1px solid #e5e7eb;border-radius:10px;background:#fff}
  .tab-content.active{display:block}
</style>
</head>
<body>
  <h1>ðŸ”§ Test clic onglets (build debug)</h1>
  <p>Si les boutons ci-dessous changent bien dâ€™onglet, les clics marchent âœ…</p>

  <div class="tabs" id="tabs">
    <button type="button" class="tab active" data-tab="a">Onglet A</button>
    <button type="button" class="tab" data-tab="b">Onglet B</button>
    <button type="button" class="tab" data-tab="c">Onglet C</button>
  </div>

  <div id="a" class="tab-content active">Contenu A</div>
  <div id="b" class="tab-content">Contenu B</div>
  <div id="c" class="tab-content">Contenu C</div>

  <div class="debug" id="debug">Status: <strong id="status">JS non initialisÃ©â€¦</strong></div>

<script>
  // Debug: afficher erreurs JS directement Ã  lâ€™Ã©cran
  (function(){
    const status = document.getElementById('status');
    window.onerror = function(msg, src, line, col){
      status.textContent = 'ERREUR: ' + msg + ' (' + line +':' + col + ')';
      status.style.color = '#fca5a5';
      return false;
    };
    status.textContent = 'JS chargÃ© âœ…';
    status.style.color = '#86efac';
  })();

  // Delegation dâ€™Ã©vÃ©nements â€“ un seul listener
  (function(){
    const tabsBar = document.getElementById('tabs');
    const tabBtns = tabsBar.querySelectorAll('.tab');
    function activate(name){
      document.querySelectorAll('.tab-content').forEach(p => p.classList.toggle('active', p.id === name));
      tabBtns.forEach(b => b.classList.toggle('active', b.dataset.tab === name));
    }
    tabsBar.addEventListener('click', (e)=>{
      const btn = e.target.closest('.tab');
      if(!btn) return;
      activate(btn.dataset.tab);
    });
  })();
</script>
</body>
</html>
